var SC=SC||{};SC.chart||(SC.chart={});var SC=SC||{};SC.chart||(SC.chart={}),SC.chart.bar=function(){"use strict";function t(n){var e=d3.select(n).append("svg");t.draw(e)}function n(){var t,n;l.domain([0,d3.max(a,function(t){return t.value})]),t=r.selectAll("g").data(a,function(t){return t.key}),t.enter().append("g").attr("class","bar").attr("transform",function(t,n){return"translate(0,"+n*i+")"}),n=t.append("rect").attr("width",function(t){return l(t.value)}).attr("height",i-1),e&&n.attr("style",function(t){return"fill: "+e(t.key)}),t.append("text").attr("x","10px").attr("y",i/2).attr("dy",".30em").text(function(t){return t.label||t.key}),t.exit().remove()}var e,a,r,i=20,o=270,u=600,d={top:0,right:0,bottom:0,left:0},c=function(){return u-d.left-d.right},l=d3.scale.linear().range([0,c()]);return t.draw=function(t){r=t.attr("class","sc-bar-chart").attr("height",o).attr("width",u).append("g").attr("transform","translate("+d.left+","+d.top+")"),n()},t.color=function(n){return arguments.length?(e=n,t):e},t.data=function(n){return arguments.length?(a=n,t):a},t.height=function(n){return arguments.length?(o=n,t):o},t.margin=function(n){return arguments.length?(d=n,l.range([0,c()]),t):d},t.updateData=function(e){return a=e,n(),t},t.width=function(n){return arguments.length?(u=n,l.range([0,c()]),t):u},t};var SC=SC||{};SC.chart||(SC.chart={}),SC.chart.line=function(){function t(n){var e=d3.select(n).append("svg");t.draw(e)}var n,e,a;return t.data=function(e){return n=e,t},t.height=function(n){return a=n,t},t.width=function(n){return e=n,t},t.draw=function(t){var r=d3.svg.line().x(function(t){return 3*t.month}).y(function(t){return a-t.sales}).interpolate("linear");t.attr({width:e,height:a});t.append("path").attr({d:r(n),stroke:"purple","stroke-width":2,fill:"none"}),t.selectAll("text").data(n).enter().append("text").text(function(t){return t.sales}).attr({x:function(t){return 3*t.month-25},y:function(t){return a-t.sales},"font-size":"12px","font-family":"sans-serif",fill:"#666666","text-anchor":"start",dy:".35em","font-weight":function(t,e){return 0===e||e==n.length-1?"bold":"normal"}})},t},!function(t){t.layouts||(t.layouts={}),t.layouts.pie=d3.layout.pie().sort(null).startAngle(0).endAngle(2*Math.PI).value(function(t){return t.values})}(SC),!function(t){t.common||(t.common={}),t.common.keyFunction=function(t){var n=d3.range(t.length),e=[];return n.forEach(function(n){e[n]={data:t[n]}}),e}}(SC),!function(t){t.chart.pie=function(){"use strict";function n(t){n.reDrawChart(t)}function e(){function n(t){var n=d3.interpolate({startAngle:0*Math.PI,endAngle:0*Math.PI},t);return function(t){return e(n(t))}}var e=d3.svg.arc(),r=($(d).data("chart-type")||"pie",$(d).data("animation-type")||"exp-in-out"),i=$(d).data("animation-speed")||1200;f.HideLegend===!0?e.outerRadius(h/2.5).innerRadius(0):p/2>h?e.outerRadius(h/2.5).innerRadius(0):e.outerRadius(p/4.5).innerRadius(0);var u=t.layouts.pie(a.values),c=o.selectAll(".arc").data(u).enter().append("g").attr("class","arc").each(function(t){isNaN(t.startAngle)&&(t.startAngle=0),isNaN(t.endAngle)&&(t.endAngle=0)});c.append("path").attr("d",e).style("fill",function(t,n){return v(n)}).transition().ease(r).duration(i).attrTween("d",n).style("cursor",function(t){return"other"!==t.data.url?"default":"pointer"})}var a,r,i,o,u,d,c,l,s,h=256,p=600,f={},g=["#256194","#0494d7","#8fb7e1","#a3cf5d","#7a9900","#d00a2d","#f15c21","#fcce07","#a743b3","#593d83","#65656a","#193b53"],v=d3.scale.ordinal().range(g);return n.reDrawChart=function(t){c&&c.remove(),f.HideLegend===!0?r=p>h?h:p:(r=p/2>h?h:p/2,i=p-r),d=t,c=d3.select(t).append("div").attr("class","sc-pie-chart-container").attr("height",h),this.drawChart()},n.drawChart=function(){l=c.append("div").attr("class","sc-pie-chart").attr("width",r).attr("height",h),l.append("div").attr("class","sc-pie-chart-refresh-icon").style("display","none");var t=l.append("svg");return f.HideLegend!==!0?(s=c.append("div").attr("class","sc-pie-chart-key").style("width",i+"px").attr("height",h),void 0!==a&&a.values.length>0&&n.drawKey(s),n.drawPieChart(t),n):void 0},n.drawPieChart=function(t){o=t.attr("height",h).attr("width",r).append("g").attr("transform","translate("+r/2+","+h/2+")"),e()},n.drawKey=function(n){if(f.HideLegend!==!0){n.append("div").attr("class","sc-pie-chart-keyHeader").text(a.title);var e=t.common.keyFunction(a.values);u=n.append("div");var r=u.append("ul"),i=r.selectAll("li").data(e).enter().append("li").style("cursor",function(t){return"other"!==t.data.url?"default":"pointer"}),o=$(d).data("animation-type")||"exp-in-out",c=$(d).data("animation-speed")||1200,l=$(d).data("key-animation-type")||o,s=$(d).data("key-animation-speed")||c;i.append("div").transition().duration(s).ease(l).style("width","1.125em").style("height","1.125em").style("background-color",function(t,n){return g[n]});var h=i.append("div").text(function(t){return t.data.key}).style("opacity","0");h.transition().duration(s).ease(l).style("opacity","1")}},n.on=function(t,e){return e&&(o&&o.selectAll("path").on(t,e),u&&u.selectAll("li").on(t,e)),n},n.colors=function(t){return arguments.length?(g=t,v=d3.scale.ordinal().range(g),n):g},n.data=function(t){return a=t,n},n.height=function(t){return arguments.length?(t>0&&(h=t),n):h},n.width=function(t){return arguments.length?(p=t,n):p},n.updateData=function(t){return a=t,e(),n},n.options=function(t){return arguments.length?(f=$.extend(f,t),n):f},n.updateChart=function(){c&&(l&&l.remove(),s&&s.remove()),this.drawChart()},n}}(SC);