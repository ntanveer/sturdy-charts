var SC=SC||{};SC.chart||(SC.chart={});var SC=SC||{};SC.chart||(SC.chart={}),SC.chart.bar=function(){"use strict";function t(n){var e=d3.select(n).append("svg");t.draw(e)}function n(){var t,n;l.domain([0,d3.max(r,function(t){return t.value})]),t=a.selectAll("g").data(r,function(t){return t.key}),t.enter().append("g").attr("class","bar").attr("transform",function(t,n){return"translate(0,"+n*i+")"}),n=t.append("rect").attr("width",function(t){return l(t.value)}).attr("height",i-1),e&&n.attr("style",function(t){return"fill: "+e(t.key)}),t.append("text").attr("x","10px").attr("y",i/2).attr("dy",".30em").text(function(t){return t.label||t.key}),t.exit().remove()}var e,r,a,i=20,u=270,o=600,c={top:0,right:0,bottom:0,left:0},d=function(){return o-c.left-c.right},l=d3.scale.linear().range([0,d()]);return t.draw=function(t){a=t.attr("class","sc-bar-chart").attr("height",u).attr("width",o).append("g").attr("transform","translate("+c.left+","+c.top+")"),n()},t.color=function(n){return arguments.length?(e=n,t):e},t.data=function(n){return arguments.length?(r=n,t):r},t.height=function(n){return arguments.length?(u=n,t):u},t.margin=function(n){return arguments.length?(c=n,l.range([0,d()]),t):c},t.updateData=function(e){return r=e,n(),t},t.width=function(n){return arguments.length?(o=n,l.range([0,d()]),t):o},t};var SC=SC||{};SC.chart||(SC.chart={}),SC.chart.line=function(){function t(n){var e=d3.select(n).append("svg");t.draw(e)}var n,e,r;return t.data=function(e){return n=e,t},t.height=function(n){return r=n,t},t.width=function(n){return e=n,t},t.draw=function(t){var a=d3.svg.line().x(function(t){return 3*t.month}).y(function(t){return r-t.sales}).interpolate("linear");t.attr({width:e,height:r});t.append("path").attr({d:a(n),stroke:"purple","stroke-width":2,fill:"none"}),t.selectAll("text").data(n).enter().append("text").text(function(t){return t.sales}).attr({x:function(t){return 3*t.month-25},y:function(t){return r-t.sales},"font-size":"12px","font-family":"sans-serif",fill:"#666666","text-anchor":"start",dy:".35em","font-weight":function(t,e){return 0===e||e==n.length-1?"bold":"normal"}})},t},!function(t){t.layouts||(t.layouts={}),t.layouts.pie=d3.layout.pie().sort(null).startAngle(0).endAngle(2*Math.PI).value(function(t){return t.values})}(SC),!function(t){t.common||(t.common={}),t.common.keyFunction=function(t){var n=d3.range(t.length),e=[];return n.forEach(function(n){e[n]={data:t[n]}}),e}}(SC),!function(t){t.chart.pie=function(){"use strict";function n(t){n.reDrawChart(t)}function e(){function n(t){var n=d3.interpolate({startAngle:0*Math.PI,endAngle:0*Math.PI},t);return function(t){return e(n(t))}}var e=d3.svg.arc(),a=($(c).data("chart-type")||"pie",$(c).data("animation-type")||"exp-in-out"),i=$(c).data("animation-speed")||1200;p.HideLegend===!0?e.outerRadius(f/2.5).innerRadius(0):h/2>f?e.outerRadius(f/2.5).innerRadius(0):e.outerRadius(h/4.5).innerRadius(0);var o=t.layouts.pie(r.values),d=u.selectAll(".arc").data(o).enter().append("g").attr("class","arc").each(function(t){isNaN(t.startAngle)&&(t.startAngle=0),isNaN(t.endAngle)&&(t.endAngle=0)});d.append("path").attr("d",e).style("fill",function(t,n){return v(n)}).transition().ease(a).duration(i).attrTween("d",n).style("cursor",function(t){return"other"!==t.data.url?"default":"pointer"})}var r,a,i,u,o,c,d,l,s,f=256,h=600,p={},g=["#256194","#0494d7","#8fb7e1","#a3cf5d","#7a9900","#d00a2d","#f15c21","#fcce07","#a743b3","#593d83","#65656a","#193b53"],v=d3.scale.ordinal().range(g);return n.reDrawChart=function(t){d&&d.remove(),p.HideLegend===!0?a=h>f?f:h:(a=h/2>f?f:h/2,i=h-a),c=t,d=d3.select(t).append("div").attr("class","sc-pie-chart-container").attr("height",f),this.drawChart()},n.drawChart=function(){l=d.append("div").attr("class","sc-pie-chart").attr("width",a).attr("height",f),l.append("div").attr("class","sc-pie-chart-refresh-icon").style("display","none");var t=l.append("svg");return p.HideLegend!==!0?(s=d.append("div").attr("class","sc-pie-chart-key").style("width",i+"px").attr("height",f),void 0!==r&&r.values.length>0&&n.drawKey(s),n.drawPieChart(t),n):void 0},n.drawPieChart=function(t){u=t.attr("height",f).attr("width",a).append("g").attr("transform","translate("+a/2+","+f/2+")"),e()},n.drawKey=function(n){if(p.HideLegend!==!0){n.append("div").attr("class","sc-pie-chart-keyHeader").text(r.title);var e=t.common.keyFunction(r.values);o=n.append("div");var a=o.append("ul"),i=a.selectAll("li").data(e).enter().append("li").style("cursor",function(t){return"other"!==t.data.url?"default":"pointer"}),u=$(c).data("animation-type")||"exp-in-out",d=$(c).data("animation-speed")||1200,l=$(c).data("key-animation-type")||u,s=$(c).data("key-animation-speed")||d;i.append("div").transition().duration(s).ease(l).style("width","1.125em").style("height","1.125em").style("background-color",function(t,n){return g[n]});var f=i.append("div").text(function(t){return t.data.key}).style("opacity","0");f.transition().duration(s).ease(l).style("opacity","1")}},n.on=function(t,e){return e&&(u&&u.selectAll("path").on(t,e),o&&o.selectAll("li").on(t,e)),n},n.colors=function(t){return arguments.length?(g=t,v=d3.scale.ordinal().range(g),n):g},n.data=function(t){return r=t,n},n.height=function(t){return arguments.length?(t>0&&(f=t),n):f},n.width=function(t){return arguments.length?(h=t,n):h},n.updateData=function(t){return r=t,e(),n},n.options=function(t){return arguments.length?(p=$.extend(p,t),n):p},n.updateChart=function(){d&&(l&&l.remove(),s&&s.remove()),this.drawChart()},n}}(SC);var SC=SC||{};SC.chart||(SC.chart={}),SC.chart.scatter=function(){function t(n){var e=d3.select(n).append("svg");t.draw(e)}var n,e,r;return t.data=function(e){return n=e,t},t.height=function(n){return r=n,t},t.width=function(n){return e=n,t},t.draw=function(t){function a(t){return t>=250?"#33CC66":250>t?"#666666":void 0}function i(t,n,e,r){var a=d3.max(t,function(t){return t[n]}),i=d3.min(t,function(t){return t[n]});return"minmax"!=r||e!=a&&e!=i?"all"==r?e:void 0:e}t.attr({width:e,height:r}),Array.max=function(t){return Math.max.apply(Math,t)},Array.min=function(t){return Math.min.apply(Math,t)};t.selectAll("circle").data(n).enter().append("circle").attr({cx:function(t){return 3*t.month},cy:function(t){return r-t.sales},r:5,fill:function(t){return a(t.sales)}}),t.selectAll("text").data(n).enter().append("text").text(function(t){return i(n,"sales",t.sales,"minmax")}).attr({x:function(t){return 3*t.month-25},y:function(t){return r-t.sales},"font-size":"12px","font-family":"sans-serif",fill:"#666666","text-anchor":"start"})},t};